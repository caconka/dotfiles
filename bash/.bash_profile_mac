# ~/.bash_profile

# Basics
export LANG=en_US.UTF-8
export EDITOR=/usr/bin/vim
export VISUAL=/usr/bin/vim
# golang
export GOPATH=$HOME/code/go
export PATH=$PATH:$GOPATH/bin
# java
export JAVA_HOME=/usr/lib/jvm/java-11-openjdk
# NPM without sudo
export PATH=~/.npm-global/bin:$PATH
# NVM
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
# needed by PhoneGap
export PATH=$PATH:/opt/android-sdk/tools
# colors
LS_COLORS="ln=1;32:ex=1;31:di=1;34:fi=0"
export LS_COLORS
# git
[ -f /usr/local/etc/bash_completion ] && . /usr/local/etc/bash_completion || {
	# if not found in /usr/local/etc, try the brew --prefix location
	[ -f "$(brew --prefix)/etc/bash_completion.d/git-completion.bash" ] && \
		. $(brew --prefix)/etc/bash_completion.d/git-completion.bash
}

# export env vars
function dotenv() {
	if [ -e .env ]; then
		while read LINE
		do
			export ${LINE%'='*}=${LINE#*'='}
		done < .env
	fi
}

export -f dotenv

##### Alias #####
alias ls="ls -G"
alias ll="ls -l"
alias grep="grep --color"

# Ctags
alias ctagsjava="ctags -R --tag-relative=yes --exclude=.git"

# Docker
alias docker-stop="docker stop $(docker ps -a -q)"
alias docker-rm="docker rm $(docker ps -a -q)"

# maven
alias mvn-dev="dotenv && mvn clean package && java -jar ./target/*-dependencies.jar"
alias mvn-dev-skip="dotenv && mvn clean package -DskipTests && java -jar ./target/*-dependencies.jar"
alias mvn-debug="dotenv && mvn clean package -DskipTests && java -agentlib:jdwp=transport=dt_socket,address=8080,server=y,suspend=n -jar ./target/*-dependencies.jar"

# kubernetes
alias itt-dev="kubectl --context gke_transformacion-it-dev_europe-west1-b_dev"
alias hitt-dev="helm --kube-context gke_transformacion-it-dev_europe-west1-b_dev"
alias helm-tiller="helm --tiller-namespace tiller-system"

# Google Cloud SDK.
if [ -f "/Users/$USER/.google-cloud-sdk/path.bash.inc" ]; then source "/Users/$USER/.google-cloud-sdk/path.bash.inc"; fi
# The next line enables shell command completion for gcloud.
if [ -f "/Users/$USER/.google-cloud-sdk/completion.bash.inc" ]; then source "/Users/$USER/.google-cloud-sdk/completion.bash.inc"; fi

#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!
export SDKMAN_DIR="/Users/carloscabezas/.sdkman"
[[ -s "/Users/$USER/.sdkman/bin/sdkman-init.sh" ]] && source "/Users/$USER/.sdkman/bin/sdkman-init.sh"
export PATH="/usr/local/opt/curl/bin:$PATH"
